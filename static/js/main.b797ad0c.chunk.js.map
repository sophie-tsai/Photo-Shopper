{"version":3,"sources":["picContext.js","components/Header.js","hooks/useHover.js","components/CartItem.js","pages/Cart.js","components/Image.js","pages/Photos.js","utils/grid.js","App.js","index.js"],"names":["PicContext","React","createContext","PicContextProvider","children","useState","allPhotos","setAllPhotos","cartItems","setCartItems","useEffect","fetch","then","response","json","data","Provider","value","toggleFavorite","id","updatedArray","map","photo","isFavorite","addToCart","newItem","prevPhotos","removeFromCart","filter","item","clearCart","Header","cartClassName","useContext","length","to","className","useHover","isHovered","setIsHovered","ref","useRef","enter","leave","current","addEventListener","removeEventListener","CartItem","binClassName","onClick","src","url","width","Cart","buttonText","setButtonText","cartItemElements","key","totalCostDisplay","toLocaleString","style","currency","setTimeout","console","log","Image","img","some","Photos","photoElements","index","i","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b797ad0c.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst PicContext = React.createContext();\n\nfunction PicContextProvider({ children }) {\n  const [allPhotos, setAllPhotos] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n\n  const url =\n    \"https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json\";\n\n  useEffect(() => {\n    fetch(url)\n      .then((response) => response.json())\n      .then((data) => setAllPhotos(data));\n  }, []);\n\n  function toggleFavorite(id) {\n    const updatedArray = allPhotos.map((photo) => {\n      if (photo.id === id) {\n        return {\n          ...photo,\n          isFavorite: !photo.isFavorite,\n        };\n      }\n      return photo;\n    });\n    setAllPhotos(updatedArray);\n  }\n\n  function addToCart(newItem) {\n    setCartItems((prevPhotos) => [...prevPhotos, newItem]);\n  }\n\n  function removeFromCart(id) {\n    setCartItems((prevPhotos) => prevPhotos.filter((item) => item.id !== id));\n  }\n\n  function clearCart() {\n    setCartItems([]);\n  }\n\n  return (\n    <>\n      <PicContext.Provider\n        value={{\n          allPhotos,\n          toggleFavorite,\n          cartItems,\n          addToCart,\n          removeFromCart,\n          clearCart,\n        }}\n      >\n        {children}\n      </PicContext.Provider>\n    </>\n  );\n}\n\nexport { PicContextProvider, PicContext };\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { PicContext } from \"../picContext\";\n\nfunction Header() {\n  const { cartItems } = useContext(PicContext);\n\n  const cartClassName =\n    cartItems.length > 0 ? \"ri-shopping-cart-fill\" : \"ri-shopping-cart-line\";\n\n  return (\n    <header>\n      <Link to=\"/Photo-Shopper\">\n        <h2>Photo Shopper</h2>\n      </Link>\n\n      <Link to=\"/Photo-Shopper/cart\">\n        <i className={`${cartClassName} ri-fw ri-2x`}></i>\n      </Link>\n    </header>\n  );\n}\n\nexport default Header;\n","import { useState, useEffect, useRef } from \"react\";\n\nfunction useHover() {\n  const [isHovered, setIsHovered] = useState(false);\n  const ref = useRef(null);\n\n  function enter() {\n    setIsHovered(true);\n  }\n\n  function leave() {\n    setIsHovered(false);\n  }\n\n  useEffect(() => {\n    ref.current.addEventListener(\"mouseenter\", enter);\n    ref.current.addEventListener(\"mouseleave\", leave);\n\n    return () => {\n      ref.current.removeEventListener(\"mouseenter\", enter);\n      ref.current.removeEventListener(\"mouseleave\", leave);\n    };\n  }, []);\n\n  return [isHovered, ref];\n}\n\nexport default useHover;\n","import React, { useContext } from \"react\";\nimport { PicContext } from \"../picContext\";\nimport PropTypes from \"prop-types\";\nimport useHover from \"../hooks/useHover\";\n\nfunction CartItem({ item }) {\n  const [isHovered, ref] = useHover();\n  const { removeFromCart } = useContext(PicContext);\n  const binClassName = isHovered ? \"fill\" : \"line\";\n\n  return (\n    <div className=\"cart-item\">\n      <i\n        className={`ri-delete-bin-${binClassName}`}\n        ref={ref}\n        onClick={() => removeFromCart(item.id)}\n      ></i>\n      <img src={item.url} width=\"130px\" />\n      <p>$5.99</p>\n    </div>\n  );\n}\n\nCartItem.propTypes = {\n  item: PropTypes.shape({\n    url: PropTypes.string.isRequired,\n  }),\n};\n\nexport default CartItem;\n","import React, { useState, useContext } from \"react\";\nimport { PicContext } from \"../picContext\";\nimport CartItem from \"../components/CartItem\";\n\nfunction Cart() {\n  const [buttonText, setButtonText] = useState(\"Place Order\");\n  const { cartItems, clearCart } = useContext(PicContext);\n  const cartItemElements = cartItems.map((item) => (\n    <CartItem key={item.id} item={item} />\n  ));\n  const totalCost = 5.99 * cartItems.length;\n  const totalCostDisplay = totalCost.toLocaleString(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  });\n\n  function placeOrder() {\n    setButtonText(\"Ordering...\");\n    setTimeout(() => {\n      console.log(\"Order placed!\");\n      setButtonText(\"Place Order\");\n      clearCart();\n    }, 3000);\n  }\n\n  return (\n    <main className=\"cart-page\">\n      <h1>Check out</h1>\n      {cartItemElements}\n      <p className=\"total-cost\">Total: {totalCostDisplay}</p>\n      <div className=\"order-button\">\n        {cartItems.length > 0 ? (\n          <button onClick={placeOrder}>{buttonText}</button>\n        ) : (\n          <h2>You have no items in your cart</h2>\n        )}\n      </div>\n    </main>\n  );\n}\n\nexport default Cart;\n","import React, { useContext } from \"react\";\nimport { PicContext } from \"../picContext\";\nimport PropTypes from \"prop-types\";\nimport useHover from \"../hooks/useHover\";\n\nfunction Image({ className, img }) {\n  const { toggleFavorite, addToCart, cartItems, removeFromCart } = useContext(\n    PicContext\n  );\n\n  const [isHovered, ref] = useHover();\n\n  function heartIcon() {\n    if (img.isFavorite) {\n      return (\n        <i\n          className=\"ri-heart-fill favorite\"\n          onClick={() => toggleFavorite(img.id)}\n        ></i>\n      );\n    } else if (isHovered) {\n      return (\n        <i\n          className=\"ri-heart-line favorite\"\n          onClick={() => toggleFavorite(img.id)}\n        ></i>\n      );\n    }\n  }\n\n  function addIcon() {\n    const alreadyInCart = cartItems.some((item) => item.id === img.id);\n    if (alreadyInCart) {\n      return (\n        <i\n          className=\"ri-shopping-cart-fill cart\"\n          onClick={() => removeFromCart(img.id)}\n        ></i>\n      );\n    } else if (isHovered) {\n      return (\n        <i\n          className=\"ri-add-circle-line cart\"\n          onClick={() => addToCart(img)}\n        ></i>\n      );\n    }\n  }\n\n  return (\n    <div className={`${className} image-container`} ref={ref}>\n      <img src={img.url} className=\"image-grid\" />\n      {heartIcon()}\n      {addIcon()}\n    </div>\n  );\n}\n\nImage.propTypes = {\n  className: PropTypes.string,\n  img: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n    isFavorite: PropTypes.bool,\n  }),\n};\n\nexport default Image;\n","import React, { useContext } from \"react\";\nimport Image from \"../components/Image\";\nimport { getClass } from \"../utils/grid\";\nimport { PicContext } from \"../picContext\";\n\nfunction Photos() {\n  const { allPhotos } = useContext(PicContext);\n  const photoElements = allPhotos.map((photo, index) => (\n    <Image key={photo.id} img={photo} className={getClass(index)} />\n  ));\n\n  return <main className=\"photos\">{photoElements}</main>;\n}\n\nexport default Photos;\n","export function getClass(i) {\n  if (i % 5 === 0) {\n    return \"big\";\n  } else if (i % 6 === 0) {\n    return \"wide\";\n  }\n}\n","import React from \"react\";\nimport Header from \"./components/Header\";\nimport Cart from \"./pages/Cart\";\nimport Photos from \"./pages/Photos\";\nimport \"./App.css\";\nimport { Route, Switch } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path=\"/Photo-Shopper\">\n          <Photos />\n        </Route>\n        <Route path=\"/Photo-Shopper/cart\">\n          <Cart />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { PicContextProvider } from \"./picContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <PicContextProvider>\n      <Router>\n        <App />\n      </Router>\n    </PicContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}