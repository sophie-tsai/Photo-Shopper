{"version":3,"sources":["utils/ImageRepository.js","picContext.js","components/Header.js","hooks/useHover.js","components/CartItem.js","pages/Cart.js","components/Image.js","pages/Photos.js","utils/grid.js","App.js","index.js"],"names":["getImagesPromise","url","fetch","then","response","json","data","results","map","photo","id","urls","regular","alt","alt_description","isFavorite","PicContext","React","createContext","PicContextProvider","children","useState","allPhotos","setAllPhotos","cartItems","setCartItems","searchKeyWords","setSearchKeyWords","currentPage","setCurrentPage","useEffect","process","Provider","value","toggleFavorite","updatedArray","addToCart","newItem","prevPhotos","removeFromCart","filter","item","clearCart","searchAndUpdate","pathname","getSearchImagesPromise","Header","useContext","useLocation","cartClassName","length","className","to","type","name","placeholder","onChange","event","target","onKeyUp","keyCode","useHover","isHovered","setIsHovered","ref","useRef","enter","leave","current","addEventListener","removeEventListener","CartItem","binClassName","onClick","src","width","Cart","buttonText","setButtonText","cartItemElements","key","totalCostDisplay","toLocaleString","style","currency","setTimeout","console","log","Image","img","some","Photos","useCallback","node","lottie","loadAnimation","container","renderer","loop","autoplay","path","photoElements","index","i","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd460669.chunk.js","sourcesContent":["function getImagesPromise(url) {\n  return fetch(url)\n    .then((response) => response.json())\n    .then((data) => {\n      const filteredData = data.results.map((photo) => ({\n        id: photo.id,\n        url: photo.urls.regular,\n        alt: photo.alt_description,\n        isFavorite: false,\n      }));\n      return filteredData;\n    });\n}\n\nfunction getLatestImagesPromise() {\n  const latestImagesUrl = `https://api.unsplash.com/search/photos?&query=dog&per_page=40&order_by=popular&client_id=${process.env.REACT_APP_UNSPLASH_API_KEY}`;\n  return getImagesPromise(latestImagesUrl);\n}\n\nfunction getSearchImagesPromise(searchKeyWords) {\n  const searchUrl = `https://api.unsplash.com/search/photos?&query=${searchKeyWords}&per_page=40&order_by=popular&client_id=${process.env.REACT_APP_UNSPLASH_API_KEY}`;\n  return getImagesPromise(searchUrl);\n}\n\nexport { getLatestImagesPromise, getSearchImagesPromise };\n\n// fetch(url)\n//   .then((response) => response.json())\n//   .then((data) => {\n//     const imgPromises = data.map((img) => {\n//       return new Promise(function (resolve) {\n//         const image = new Image();\n//         image.src = img.url;\n//         image.onload = () => {\n//           resolve();\n//         };\n//       });\n//     });\n//     Promise.all(imgPromises).then(() => setAllPhotos(data));\n//   });\n","import React, { useState, useEffect } from \"react\";\nimport {\n  getLatestImagesPromise,\n  getSearchImagesPromise,\n} from \"./utils/ImageRepository\";\nconst PicContext = React.createContext();\n\nfunction PicContextProvider({ children }) {\n  const [allPhotos, setAllPhotos] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [searchKeyWords, setSearchKeyWords] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(\"\");\n\n  useEffect(() => {\n    getLatestImagesPromise().then((data) => setAllPhotos(data));\n  }, []);\n\n  function toggleFavorite(id) {\n    const updatedArray = allPhotos.map((photo) => {\n      if (photo.id === id) {\n        return {\n          ...photo,\n          isFavorite: !photo.isFavorite,\n        };\n      }\n      return photo;\n    });\n    setAllPhotos(updatedArray);\n  }\n\n  function addToCart(newItem) {\n    setCartItems((prevPhotos) => [...prevPhotos, newItem]);\n  }\n\n  function removeFromCart(id) {\n    setCartItems((prevPhotos) => prevPhotos.filter((item) => item.id !== id));\n  }\n\n  function clearCart() {\n    setCartItems([]);\n  }\n\n  function searchAndUpdate(searchKeyWords, pathname) {\n    getSearchImagesPromise(searchKeyWords).then((data) => setAllPhotos(data));\n    setSearchKeyWords(\"\");\n    setCurrentPage(pathname);\n  }\n\n  return (\n    <>\n      <PicContext.Provider\n        value={{\n          allPhotos,\n          toggleFavorite,\n          cartItems,\n          addToCart,\n          removeFromCart,\n          clearCart,\n          searchAndUpdate,\n          searchKeyWords,\n          setSearchKeyWords,\n          currentPage,\n          setCurrentPage,\n        }}\n      >\n        {children}\n      </PicContext.Provider>\n    </>\n  );\n}\n\nexport { PicContextProvider, PicContext };\n","import React, { useContext } from \"react\";\nimport { Link, useLocation, Redirect } from \"react-router-dom\";\nimport { PicContext } from \"../picContext\";\n\nfunction Header() {\n  const {\n    cartItems,\n    searchAndUpdate,\n    searchKeyWords,\n    setSearchKeyWords,\n  } = useContext(PicContext);\n\n  const { pathname } = useLocation();\n\n  const cartClassName =\n    cartItems.length > 0 ? \"ri-shopping-cart-fill\" : \"ri-shopping-cart-line\";\n\n  function handleChange(event) {\n    const { value } = event.target;\n    setSearchKeyWords(value);\n  }\n\n  function handleKeyUp(event) {\n    if (event.keyCode === 13) {\n      searchAndUpdate(searchKeyWords, pathname);\n    }\n  }\n\n  return (\n    <div className=\"header\">\n      <div className=\"headerContainer\">\n        <div className=\"headerTextDiv\">\n          <Link to=\"/Photo-Shopper/\">\n            <span className=\"headerText\">PhotoShopper</span>\n          </Link>\n        </div>\n\n        <div className=\"searchbar\">\n          <input\n            type=\"text\"\n            name=\"search\"\n            placeholder=\"search beautiful images\"\n            value={searchKeyWords}\n            onChange={handleChange}\n            onKeyUp={handleKeyUp}\n          />\n        </div>\n\n        <div className=\"headerIcons\">\n          {/* <div className=\"home-icon\">\n            <Link to=\"/Photo-Shopper/\">\n              <i className=\"ri-home-4-line ri-fw ri-2x\"></i>\n            \n          </div> */}\n\n          <div className=\"heart-icon\">\n            <i className=\"ri-heart-line ri-fw ri-2x\"></i>\n          </div>\n\n          <div className=\"cart-icon\">\n            <Link to=\"/Photo-Shopper/cart\">\n              <i className={`${cartClassName} ri-fw ri-2x`}></i>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import { useState, useEffect, useRef } from \"react\";\n\nfunction useHover() {\n  const [isHovered, setIsHovered] = useState(false);\n  const ref = useRef(null);\n\n  function enter() {\n    setIsHovered(true);\n  }\n\n  function leave() {\n    setIsHovered(false);\n  }\n\n  useEffect(() => {\n    ref.current.addEventListener(\"mouseenter\", enter);\n    ref.current.addEventListener(\"mouseleave\", leave);\n\n    return () => {\n      ref.current.removeEventListener(\"mouseenter\", enter);\n      ref.current.removeEventListener(\"mouseleave\", leave);\n    };\n  }, []);\n\n  return [isHovered, ref];\n}\n\nexport default useHover;\n","import React, { useContext } from \"react\";\nimport { PicContext } from \"../picContext\";\nimport PropTypes from \"prop-types\";\nimport useHover from \"../hooks/useHover\";\n\nfunction CartItem({ item }) {\n  const [isHovered, ref] = useHover();\n  const { removeFromCart } = useContext(PicContext);\n  const binClassName = isHovered ? \"fill\" : \"line\";\n\n  return (\n    <div className=\"cart-item\">\n      <i\n        className={`ri-delete-bin-${binClassName}`}\n        ref={ref}\n        onClick={() => removeFromCart(item.id)}\n      ></i>\n      <img src={item.url} alt={item.alt} width=\"160px\" />\n      <p>$5.99</p>\n    </div>\n  );\n}\n\nCartItem.propTypes = {\n  item: PropTypes.shape({\n    url: PropTypes.string.isRequired,\n  }),\n};\n\nexport default CartItem;\n","import React, { useState, useContext } from \"react\";\nimport { PicContext } from \"../picContext\";\nimport CartItem from \"../components/CartItem\";\n\nfunction Cart() {\n  const [buttonText, setButtonText] = useState(\"Place Order\");\n  const { cartItems, clearCart } = useContext(PicContext);\n  const cartItemElements = cartItems.map((item) => (\n    <CartItem key={item.id} item={item} />\n  ));\n  const totalCost = 5.99 * cartItems.length;\n  const totalCostDisplay = totalCost.toLocaleString(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  });\n\n  function placeOrder() {\n    setButtonText(\"Ordering...\");\n    setTimeout(() => {\n      console.log(\"Order placed!\");\n      setButtonText(\"Place Order\");\n      clearCart();\n    }, 3000);\n  }\n\n  return (\n    <main className=\"cart-page\">\n      <h1>Check Out</h1>\n      {cartItemElements}\n      <p className=\"total-cost\">Total: {totalCostDisplay}</p>\n      <div className=\"order-button\">\n        {cartItems.length > 0 ? (\n          <button onClick={placeOrder}>{buttonText}</button>\n        ) : (\n          <h2>You have no items in your cart</h2>\n        )}\n      </div>\n    </main>\n  );\n}\n\nexport default Cart;\n","import React, { useContext } from \"react\";\nimport { PicContext } from \"../picContext\";\nimport PropTypes from \"prop-types\";\nimport useHover from \"../hooks/useHover\";\n\nfunction Image({ className, img }) {\n  const { toggleFavorite, addToCart, cartItems, removeFromCart } = useContext(\n    PicContext\n  );\n\n  const [isHovered, ref] = useHover();\n\n  function heartIcon() {\n    if (img.isFavorite) {\n      return (\n        <i\n          className=\"ri-heart-fill favorite\"\n          onClick={() => toggleFavorite(img.id)}\n        ></i>\n      );\n    } else if (isHovered) {\n      return (\n        <i\n          className=\"ri-heart-line favorite\"\n          onClick={() => toggleFavorite(img.id)}\n        ></i>\n      );\n    }\n  }\n\n  function addIcon() {\n    const alreadyInCart = cartItems.some((item) => item.id === img.id);\n    if (alreadyInCart) {\n      return (\n        <i\n          className=\"ri-shopping-cart-fill cart\"\n          onClick={() => removeFromCart(img.id)}\n        ></i>\n      );\n    } else if (isHovered) {\n      return (\n        <i\n          className=\"ri-add-circle-line cart\"\n          onClick={() => addToCart(img)}\n        ></i>\n      );\n    }\n  }\n\n  return (\n    <div className={`${className} image-container`} ref={ref}>\n      <img src={img.url} alt={img.alt} className=\"image-grid\" />\n      {heartIcon()}\n      {addIcon()}\n    </div>\n  );\n}\n\nImage.propTypes = {\n  className: PropTypes.string,\n  img: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n    isFavorite: PropTypes.bool,\n  }),\n};\n\nexport default Image;\n","import React, { useContext, useCallback, useEffect } from \"react\";\nimport Image from \"../components/Image\";\nimport { getClass } from \"../utils/grid\";\nimport { PicContext } from \"../picContext\";\nimport lottie from \"lottie-web\";\n\nfunction Photos() {\n  const { allPhotos, currentPage, setCurrentPage } = useContext(PicContext);\n\n  useEffect(() => {\n    setCurrentPage(\"\");\n  }, [currentPage]);\n\n  const ref = useCallback((node) => {\n    if (node !== null) {\n      lottie.loadAnimation({\n        container: node,\n        renderer: \"svg\",\n        loop: true,\n        autoplay: true,\n        path:\n          \"https://maxst.icons8.com/vue-static/landings/animated-icons/icons/iphone-spinner-1/iphone-spinner-1.json\",\n      });\n    }\n  }, []);\n\n  const photoElements = allPhotos.map((photo, index) => {\n    return <Image key={photo.id} img={photo} className={getClass(index)} />;\n  });\n\n  return (\n    <>\n      <main className=\"photos\">\n        {allPhotos.length === 0 ? (\n          <div id=\"loadingDiv\" ref={ref}></div>\n        ) : (\n          photoElements\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default Photos;\n","export function getClass(i) {\n  if (i % 5 === 0) {\n    return \"big\";\n  } else if (i % 6 === 0) {\n    return \"wide\";\n  }\n}\n","import React, { useContext, useEffect } from \"react\";\nimport Header from \"./components/Header\";\nimport Cart from \"./pages/Cart\";\n\nimport Photos from \"./pages/Photos\";\nimport \"./App.css\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { PicContext } from \"./picContext\";\n\nfunction App() {\n  const { currentPage, setCurrentPage } = useContext(PicContext);\n\n  useEffect(() => {\n    setCurrentPage(\"\");\n  }, [currentPage]);\n\n  return (\n    <div>\n      <Header />\n      <Switch>\n        {currentPage === \"/Photo-Shopper/cart\" && (\n          <Redirect to=\"/Photo-Shopper/\" />\n        )}\n\n        <Route exact path=\"/Photo-Shopper/\">\n          <Photos />\n        </Route>\n\n        <Route path=\"/Photo-Shopper/cart\">\n          <Cart />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { PicContextProvider } from \"./picContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <PicContextProvider>\n      <Router>\n        <App />\n      </Router>\n    </PicContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}